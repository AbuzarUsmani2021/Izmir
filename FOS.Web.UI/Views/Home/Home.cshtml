@model FOS.Shared.KSBComplaintData

@{
    ViewBag.Title = "WASA LAHORE | Today Complaints";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .table-responsive {
        display: block;
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    #ChildStatus_paginate {
        margin-bottom: 7px;
    }

    .modal-title {
        padding-top: 17px;
        font-size: 21px;
        font-weight: normal;
        line-height: 12px;
        margin: 0;
        padding-bottom: 17px;
        font-family: 'MyriadPro-Regular';
    }


    .grid-container {
        display: grid;
        grid-template-columns: auto auto auto auto;
        padding: 20px;
        background-color: #1969b1;
    }

    .table-bordered th, .table-bordered td {
        border-left: 1px solid #ddd;
        vertical-align: middle;
    }

    .label {
        color: white;
    }

    .grid-item {
        color: white;
    }

    .modal {
        width: 1053px;
        height: auto;
    }
</style>
@*Upload Photo Start*@
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="~/Content/Style/UploadPhoto.css" rel="stylesheet" />
@*Upload Photo END*@
@*Calender for Filter Data START*@
<link href="~/Content/Style/Calender.css" rel="stylesheet" />
@*Calender for Filter Data END*@




<h3 class="page-title"></h3>
<div class="widget-title text-center" style=" background-color: #1969b1;">
    <h4><strong> All Complaints Detail</strong></h4><hr style="margin:13px;" />
</div>
<div class="grid-container">
    <div class="grid-item">
        <label>From Date:</label>
        <div class="controls">
            <input class="text-box single-line" id="StartingDate1" autocomplete="off" name="StartingDate1" style="height: 22px; width: 202px; margin-bottom: 0px;" placeholder="DD-MM-YYYY">
        </div>
    </div>
    <div class="grid-item">
        <label>To Date:</label>
        <div class="controls">
            <input class="text-box single-line" id="StartingDate2" autocomplete="off" name="StartingDate2" style="height: 22px; width: 202px; margin-bottom: 0px;" placeholder="DD-MM-YYYY">
        </div>
    </div>
    <div class="grid-item">
        <label>Project:</label>
        <div class="controls" style="margin-left: 0px">
            <select class="" data-val="true" data-val-number="The field ProjectId must be a number." data-val-required="The ProjectId field is required." id="ProjectId" name="ProjectId">
                <option selected="selected" value="0">--Select Project--</option>
                <option value="1">All</option>
                <option value="9">Contract 1 (6115) North And South</option>
                <option value="8">Contract 2 (6212)  South</option>
                <option value="7">Contract 3 (6211)  North</option>
            </select>
            <input id="ProjectId" name="ProjectId" type="hidden" value="0">
            <span class="field-validation-valid" data-valmsg-for="ProjectId" data-valmsg-replace="true"></span>
        </div>
    </div>
    <div class="grid-item" style="margin-top: 28px;">
        <button type="submit" id="ApplyFilter" class="btn btn-primary">
            <i class="icon-ok icon-white" style="padding-right: 2px"></i><span style="width:50px">Apply Filter</span>
        </button>
        <button type="submit" id="Clear" class="btn btn-primary">
            <i class="icon-remove icon-white" style="padding-right: 2px"></i><span style="width:50px">Clear</span>
        </button>
    </div>



</div>
<div class="table-responsive">
    <table class="table table-striped table-hover table-bordered" id="datatab">
        <thead>
            <tr class="align-center" style="background-color:#1969b1; color:white;">
                @*<th>Sr #</th>*@
                <th>Complaint No</th>
                <th>Site ID</th>
                <th>Site Name</th>
                <th>Fault Type/      Fault Type Detail</th>
                <th>Complaint Type</th>
                <th>Launched By</th>
                <th>Launched At</th>
                <th>Elapsed Time (HH:MM)</th>
                <th id="StatusColumn">Complaint Status</th>
                <th id="StatusColumn">Progress Status</th>
                <th id="StatusColumn">Updated At </th>
                <th>View Detail/ Remarks</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>
<div id="myModal" class="modal fade" role="dialog" style="top:7%; display:none;">

    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="background-color: #1969b1;">
                <button type="button" class="close" style="color:white;" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="font-weight: 900;color: white;"><strong>View Complaint Detail</strong></h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div class="span12">
                        <div class="span6" style="border-style: solid; padding: 10px;margin-bottom: 10px;">
                            <div class="span12">
                                <h4 class="modal-title text-center" style="font-weight: 900;color: black; padding-bottom: 0px;"><strong>Actual Complaint</strong></h4>
                                <hr />
                            </div>
                            <div class="span12">

                                <div class="span5" style="margin-left:0px;"><label>Site Code:</label></div>
                                <div class="span7" id="ActualSiteCode" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Site Name:</label></div>
                                <div class="span7" id="ActualSiteName" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Complaint No:</label></div>
                                <div class="span7" id="ActualComplaintNo" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Launch Time:</label></div>
                                <div class="span7" id="ActualLaunchTime" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Launch By:</label></div>
                                <div class="span7" id="ActualLaunchBy" style="margin-left:0px;"></div>



                                <div class="span5" style="margin-left:0px;"><label>Fault Type:</label></div>
                                <div class="span7" id="ActualFaultType" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Fault Type Detail:</label></div>
                                <div class="span7" id="ActualFaultTypeDetail" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Complaint Status:</label></div>
                                <div class="span7" id="ActualComplaintStatus" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Initial Remarks:</label></div>
                                <div class="span7" id="ActualInitialRemarks" style="margin-left:0px;"></div>




                            </div>
                            <div class="span12">
                                <div class="span6" style="margin-left:0px; margin-bottom:0px; border-style: solid;">
                                    <img src="~/Images/no-image-available.png.jpg" style="width:221px; height:215px;" id="ActualPicture1" />
                                </div>
                                <div class="span6" style="margin-left:6px; border-style: solid;">
                                    <img src="~/Images/no-image-available.png.jpg" style="width:221px; height:215px;" id="ActualPicture2" />
                                </div>




                            </div>
                        </div>
                        <div class="span6" style="border-style: solid; padding: 10px;margin-bottom: 10px;">
                            <div class="span12">
                                <h4 class="modal-title text-center" style="font-weight: 900;color: black; padding-bottom: 0px;"><strong>Complaint's Current Status</strong></h4>
                                <hr />
                            </div>
                            <div class="span12">

                                <div class="span5" style="margin-left:0px;"><label>Site Code:</label></div>
                                <div class="span7" id="SiteCode" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Site Name:</label></div>
                                <div class="span7" id="SiteName" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Complaint No:</label></div>
                                <div class="span7" id="ComplaintNo" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Launch Time:</label></div>
                                <div class="span7" id="LaunchTime" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Launch By:</label></div>
                                <div class="span7" id="LaunchBy" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Complaint Type:</label></div>
                                <div class="span7" id="ComplaintType" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Fault Type:</label></div>
                                <div class="span7" id="FaultType" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Fault Type Detail:</label></div>
                                <div class="span7" id="FaultTypeDetail" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Contact Person:</label></div>
                                <div class="span7" id="Name" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Initial Remarks:</label></div>
                                <div class="span7" id="InitialRemarks" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Complaint Status:</label></div>
                                <div class="span7" id="ComplaintStatus" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Progress Status:</label></div>
                                <div class="span7" id="ProgressStatusName" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Updated At:</label></div>
                                <div class="span7" id="LastUpdated" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Progress Remarks:</label></div>
                                <div class="span7" id="ProgressStatusOtherRemarks" style="margin-left:0px;"></div>






                            </div>
                            <div class="span12">
                                <div class="span6" style="margin-left:0px; margin-bottom:0px; border-style: solid;">
                                    <img src="~/Images/no-image-available.png.jpg" style="width:221px; height:215px;" id="Picture1" />
                                </div>
                                <div class="span6" style="margin-left:6px; border-style: solid;">
                                    <img src="~/Images/no-image-available.png.jpg" style="width:221px; height:215px;" id="Picture2" />
                                </div>




                            </div>
                        </div>

                        @*<div class="span6" style="border-style: solid; padding: 10px;">
                                <div class="span12">
                                    <h4 class="modal-title text-center" style="font-weight: 900;color: black; padding-bottom: 0px;"><strong>Client Remarks</strong></h4>
                                    <hr />
                                </div>
                                <div class="span12" id="RemarksData" style="margin-left: 1px;">
                                </div>


                            </div>*@
                    </div>
                    <div class="span12" style=" margin-left: 0px; border-style: solid;margin-bottom: 20px;">
                        <table class="table table-striped table-hover table-bordered">
                            <thead>
                                <tr class="align-center" style="background-color:#1969b1; color:white;">
                                    <th style="text-align: center;">Date Time</th>
                                    <th style="text-align: center;">Fault Type/Fault Type Detail</th>
                                    <th style="text-align: center;">Complaint Status</th>
                                    <th style="text-align: center;">Assigned FS</th>
                                    <th style="text-align: center;">Progress Status</th>
                                    <th style="text-align: center;">Progress Remarks</th>
                                    <th style="text-align: center;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="ChildStatus"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="AddRemarks" class="modal fade" role="dialog" style="top:35%; -webkit-border-radius: 0px; left:35%; width:430px; display:none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #1969b1;">
                <button type="button" class="close" style="color:white;" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="font-weight: 900;color: white;"><strong>Add Remarks</strong></h4>
            </div>
            <div class="modal-body" style="padding: 12px 23px 40px;">
                <div class="form-group">
                    <div class="control-group">
                        <label class="control-label">Remarks:*</label>
                        <div class="controls">
                            <div class="span12">
                                <div class="span6">
                                    <input class="text-box single-line" autocomplete="off" id="AddRemark" name="AddRemark" type="text" value="" placeholder="Enter Remarks:">
                                </div>
                                <div class="span6">
                                    <div class="control-group text-center" style="margin-top: 4px; margin-left:42px;">
                                        <button class="btn btn-primary"><i class="icon-ok icon-white"></i><span id="AddRemarksCreate"> Add</span></button>
                                        <button type="button" id="ResetRemarks" class="btn btn-info"><i class="icon-ban-circle icon-white"></i><span></span>Reset</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="ViewChildRecord" class="modal fade" role="dialog" style="top:7%; display:none; width: 828px; display:none;">

    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #1969b1;">
                <button type="button" class="close" style="color:white;" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="font-weight: 900;color: white;"><strong>View Child Detail</strong></h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div class="span12">
                        <div class="span12" style="border-style: solid; padding: 10px;margin-bottom: 10px;">
                            <div class="span8">
                                <div class="span5" style="margin-left:0px;"><label>Date Time:</label></div>
                                <div class="span5" id="ChildViewDateTime" style="margin-left:0px;"></div>

                                <div class="span5" style="margin-left:0px;"><label>Fault Type/Fault Type Detail:</label></div>
                                <div class="span5" id="ChildViewFaultTypeFaultTypeDetail" style="margin-left:0px; "></div>

                                <div class="span5" style="margin-left:0px;"><label>Complaint Status:</label></div>
                                <div class="span5" id="ChildViewComplaintStatus" style="margin-left:0px; "></div>

                                <div class="span5" style="margin-left:0px;"><label>Assigned FS:</label></div>
                                <div class="span5" id="ChildViewAssignedFS" style="margin-left:0px; "></div>

                                <div class="span5" style="margin-left:0px;"><label>Progress Status:</label></div>
                                <div class="span5" id="ChildViewProgressStatus" style="margin-left:0px; "></div>

                                <div class="span5" style="margin-left:0px;"><label>Progress Remarks:</label></div>
                                <div class="span5" id="ChildViewProgressRemarks" style="margin-left:0px; "></div>
                            </div>
                            <div class="span4">

                                <div class="span6" style="margin-left:0px; border-style: solid;margin-right: 5px;">
                                    <img src="~/Images/no-image-available.png.jpg" style="width:150px; height:165px;" id="ChildViewPicture1" />

                                </div>
                                <div class="span6" style="margin-left:0px; border-style: solid;">
                                    <img src="~/Images/no-image-available.png.jpg" style="width:150px; height:165px;" id="ChildViewPicture2" />
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="EditChildRecord" class="modal fade" role="dialog" style="top:7%; display:none; width: 1052px;">

    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #1969b1;">
                <button type="button" class="close" style="color:white;" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="font-weight: 900;color: white;"><strong>Edit Child Detail</strong></h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div class="span12">
                        <div class="span3" style="margin-top: 0px;">
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Fault Type: *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.FaulttypeId, new SelectList(Model.faultTypes, "Id", "Name"), new { @class = "Areas" })
                                    @Html.HiddenFor(model => model.FaulttypeId)
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Fault Type Detail:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.FaulttypeDetailId, new SelectList(Model.faultTypesDetail, "Id", "Name"), new { @class = "Areas" })
                                    @Html.HiddenFor(model => model.FaulttypeDetailId)
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px" id="OtherRemarks">
                                <label class="control-label" style="">Other Remarks:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.EditorFor(model => model.FaultTypeDetailOtherRemarks)
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Priority *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.PriorityId, new SelectList(Model.priorityDatas, "ID", "Name"), new { @class = "Areas" })
                                    @Html.HiddenFor(model => model.PriorityId)
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Complaint Type *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.ComplaintTypeID, new SelectList(Model.ComplaintTypes, "ID", "Name"), new { @class = "Areas" })
                                    @Html.HiddenFor(model => model.ComplaintTypeID)
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Assign FS : *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.SalesOficerID, new SelectList(Model.FieldOfficers, "ID", "Name"), new { @class = "Areas" })
                                    @Html.HiddenFor(model => model.SalesOficerID)
                                </div>
                            </div>


                        </div>
                        <div class="span3" style="margin-top: 0px;">
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Complaint Status: *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.StatusID, new SelectList(Model.complaintStatuses, "ID", "Name"), new { @class = "Areas", @Value = "2003" })
                                    @Html.HiddenFor(model => model.StatusID)
                                </div>
                            </div>


                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Progress Status *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.ProgressStatusId, new SelectList(Model.ProgressStatus, "ID", "Name"), new { @class = "Areas" })
                                    @Html.HiddenFor(model => model.ProgressStatusId)
                                </div>
                            </div>
                            <div class="control-group " style="margin-bottom: 0px">
                                <label class="control-label" style="">Timeline for resolution:</label>
                                <select class="Areas" id="Time" name="Time">
                                    <option selected value="0">--Select Time For Resolution--</option>

                                </select>
                            </div>
                            <div class="control-group" style="margin-bottom: 0px">
                                <label class="control-label" style="">Person Name:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.TextBoxFor(model => model.Name, new { placeholder = "Enter Contact Person Name:" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px; padding-top:20px;">
                                <label class="control-label" style="">Complaint Progress Remarks:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.TextAreaFor(model => model.Remarks, new { @style = "height:97px; width:202px; margin: 0px 0px 10px;", placeholder = "Enter Progress Remarks:" })
                                </div>
                            </div>
                        </div>




                        <!-- Buttons -->
                        <!--</div>-->
                        <div class="span3" style="margin-top: 0px;">
                            <div class="user-profile-image">
                                <input type="file" name="ChildEditPicture1" style="display:none" ; class="hidden" id="ChildEditPicture1" />
                                <img src="/Images/no-image-available.png.jpg" class="img-responsive" id="ChildEditUserImage" />
                                <div class="upload-photo" style="width:230px;bottom:-310px;">
                                    <img src="/Images/upload.png" class="img-responsive" />
                                </div>
                                <div class="remove-photo" style="top:21px;right:304px;">
                                    <span class="fa fa-window-close"></span>
                                </div>
                            </div>
                        </div>
                        <div class="span3" style="margin-top: 0px;">
                            <div class="user-profile-image">
                                <input type="file" name="ChildEditPicture2" style="display:none" ; class="hidden" id="ChildEditPicture2" />
                                <img src="/Images/no-image-available.png.jpg" class="img-responsive" id="ChildEditUserImage2" />
                                <div class="upload-photo" style="width:230px;bottom:-310px;">
                                    <img src="/Images/upload.png" class="img-responsive" />
                                </div>
                                <div class="remove-photo" id="remove-photo2" style="top:21px;right:56px;">
                                    <span class="fa fa-window-close"></span>
                                </div>
                            </div>
                        </div>

                        <div class="control-group" style="margin-top: 10px">
                            <div class="form-actions" style="padding-left: 0px;  margin-top: 16px;">
                                <button type="submit" id="btnNew" class="btn btn-primary" style="margin-top: 50px;margin-left: 208px;width: 100px;">
                                    <span id="EditUpdate">Update</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="UpdateComplaint" class="modal fade" role="dialog" style="top:7%; display:none; width: 1052px;">

    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #1969b1;">
                <button type="button" class="close" style="color:white;" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" style="font-weight: 900;color: white;"><strong>Update Complaint</strong></h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div class="span12">
                        <div class="span3" style="margin-top: 0px;">
                            <div class="control-group" style="margin-bottom: 10px">
                                <input id="UpdateComplaintID" name="UpdateComplaintID" class="hidden" type="text" value="">
                                <label class="control-label">Select Fault Type: *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdateFaulttypeId, new SelectList(Model.faultTypes, "Id", "Name"), new { @class = "Areas" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Fault Type Detail:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdateFaulttypeDetailId, new SelectList(Model.faultTypesDetail, "Id", "Name"), new { @class = "Areas" })
                                </div>
                            </div>
                            <div class="control-group " style="margin-bottom: 10px" id="UpdateFaultTypeDetailOtherRemarksBox">
                                <label class="control-label" style="">Fault Type Detail Other Remarks:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.EditorFor(model => model.UpdateFaultTypeDetailOtherRemarks)
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Priority *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdatePriorityId, new SelectList(Model.priorityDatas, "ID", "Name"), new { @class = "Areas" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Complaint Type *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdateComplaintTypeID, new SelectList(Model.ComplaintTypes, "ID", "Name"), new { @class = "Areas" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Assign FS : *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdateSalesOficerID, new SelectList(Model.FieldOfficers, "ID", "Name"), new { @class = "Areas" })
                                </div>
                            </div>
                        </div>
                        <div class="span3" style="margin-top: 0px;">
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Select Complaint Status: *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdateStatusID, new SelectList(Model.complaintStatuses, "ID", "Name"), new { @class = "Areas", @Value = "2003" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px">
                                <label class="control-label">Progress Status *</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.DropDownListFor(model => model.UpdateProgressStatusId, new SelectList(Model.ProgressStatus, "ID", "Name"), new { @class = "Areas" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px" id="UpdateProgressStatusOtherRemarksBox">
                                <label class="control-label" style="">Progress Status Others Remarks:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.EditorFor(model => model.UpdateProgressStatusOtherRemarks)
                                </div>
                            </div>
                            <div class="control-group " style="margin-bottom: 10px;">
                                <label class="control-label" style="">Timeline for resolution:</label>
                                <select class="Areas" id="UpdateTime" name="UpdateTime">
                                    <option selected value="0">--Select Time For Resolution--</option>
                                </select>
                            </div>
                            <div class="control-group" style="margin-bottom: 0px">
                                <label class="control-label" style="">Person Name:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.TextBoxFor(model => model.UpdatePerson, new { placeholder = "Enter Contact Person Name:" })
                                </div>
                            </div>
                            <div class="control-group" style="margin-bottom: 10px; padding-top:20px;">
                                <label class="control-label" style="">Complaint Progress Remarks:</label>
                                <div class="controls" style="margin-left: 0px">
                                    @Html.TextAreaFor(model => model.UpdateProgressRemarks, new { @style = "height:22px; width:202px; margin: 0px 0px 10px;", placeholder = "Enter Progress Remarks:" })
                                </div>
                            </div>
                        </div>
                        <div class="span3" style="margin-top: 0px;">
                            <div class="user-profile-image">
                                <input type="file" name="UpdatePicture1" style="display:none" ; class="hidden" id="UpdatePicture1" />
                                <img src="/Images/no-image-available.png.jpg" class="img-responsive" id="UpdatePicture1UserImage" />
                                <div class="upload-photo" style="width:230px;bottom:-310px;" id="UpdateUploadPicture1">
                                    <img src="/Images/upload.png" class="img-responsive" />
                                </div>
                                <div class="remove-photo" style="top:21px;right:304px;" id="UpdateRemovePicture1">
                                    <span class="fa fa-window-close"></span>
                                </div>
                            </div>
                        </div>
                        <div class="span3" style="margin-top: 0px;">
                            <div class="user-profile-image">
                                <input type="file" name="UpdatePicture2" style="display:none" ; class="hidden" id="UpdatePicture2" />
                                <img src="/Images/no-image-available.png.jpg" class="img-responsive" id="UpdatePicture2UserImage" />
                                <div class="upload-photo" style="width:230px;bottom:-310px;" id="UpdateUploadPicture2">
                                    <img src="/Images/upload.png" class="img-responsive" />
                                </div>
                                <div class="remove-photo" id="UpdateRemovePicture2" style="top:21px;right:56px;">
                                    <span class="fa fa-window-close"></span>
                                </div>
                            </div>
                        </div>
                        <div class="control-group" style="margin-top: 10px">
                            <div class="form-actions" style="padding-left: 0px;  margin-top: 16px;">
                                <button type="submit" id="btnNew" class="btn btn-primary" style="margin-top: 50px;margin-left: 208px;width: 100px;">
                                    <span id="PostUpdateComplaint">Update</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

<script>


    $(document).ready(function () {

        //Get Update Complaint Start
        $("#UpdateFaultTypeDetailOtherRemarksBox").hide();
        $("#UpdateProgressStatusOtherRemarksBox").hide();
        for (var a = 1; a < 101; a++) {
            var divHtml = '<option value="' + a + '">' + a + '</option>'
            $("#UpdateTime").append(divHtml);
        }
        //Get Update Complaint END

        GenerateDetailGrid();

          //Calender Start
        $('input[name=StartingDate1]').css({ "height": "22px", "width": "202px", "margin-bottom": "0px" });
        $('input[name=StartingDate1]').datepicker({ dateFormat: "dd-MM-yy" });
        $("input[name=StartingDate1]").trigger('change');

        $('input[name=StartingDate2]').css({ "height": "22px", "width": "202px", "margin-bottom": "0px" });
        $('input[name=StartingDate2]').datepicker({ dateFormat: "dd-MM-yy" });
        $("input[name=StartingDate2]").trigger('change');
         //Calender END

    });

     //Get Update Complaint Start
    $("#UpdateFaulttypeId").change(function () {
        UpdateLoadFaultTypeDetails();
        UpdateLoadProgressStatusDetails();
    });
    $("#UpdateFaulttypeDetailId").change(function () {
        debugger;
        if ($("#UpdateFaulttypeDetailId").val() == '3030') {
            $("#UpdateFaultTypeDetailOtherRemarksBox").show();
        }
        else if ($("#UpdateFaulttypeDetailId").val() == '3042') {
            $("#UpdateFaultTypeDetailOtherRemarksBox").show();
        }
        else if ($("#UpdateFaulttypeDetailId").val() == '3049') {
            $("#UpdateFaultTypeDetailOtherRemarksBox").show();
        }
        else
        {
            $("#UpdateFaultTypeDetailOtherRemarksBox").hide();
        }
    });
    $("#UpdateProgressStatusId").change(function () {
        if ($("#UpdateProgressStatusId").val() == '2018') {
            $("#UpdateProgressStatusOtherRemarksBox").show();
        }
        else if ($("#UpdateProgressStatusId").val() == '2031') {
            $("#UpdateProgressStatusOtherRemarksBox").show();
        }
        else if ($("#UpdateProgressStatusId").val() == '2035') {
            $("#UpdateProgressStatusOtherRemarksBox").show();
        }
        else {
            $("#UpdateProgressStatusOtherRemarksBox").hide();
        }
    });
    $("#UpdateStatusID").change(function () {
        if ($("#UpdateStatusID").val() == '3')
            {
                UpdateWorkDoneStatusDetails();
            }
            else
            {
                UpdateLoadProgressStatusDetails();
            }
    });

    function UpdateLoadFaultTypeDetails() {
        var ClientID = $("#UpdateFaulttypeId").val();
        $.ajax({
            type: "POST",
            url: "@Url.Action("GetFaultTypeDetailList", "Complaint")",
            data: { ClientID: ClientID},
            success: function (json) {

                var $el = $("#UpdateFaulttypeDetailId");
                $el.empty(); // remove old options
                $.each(json, function (value, key) {
                    $el.append($("<option></option>").val(key.ID).text(key.Name));
                });


            }
        });
    }
    function UpdateLoadProgressStatusDetails() {
        var ClientID = $("#UpdateFaulttypeId").val();

        $.ajax({
            type: "POST",
            url: "@Url.Action("GetProgressDetailList", "Complaint")",
            data: { ClientID: ClientID},
            success: function (json) {

                var $el = $("#UpdateProgressStatusId");
                $el.empty(); // remove old options
                $.each(json, function (value, key) {
                    $el.append($("<option></option>").val(key.ID).text(key.Name));
                });


            }
        });
        }
    function UpdateWorkDoneStatusDetails() {
        var FaultTypeID = $("#UpdateFaulttypeId").val();

        $.ajax({
            type: "POST",
            url: "@Url.Action("WorkDoneDetailList", "Home")",
            data: { FaultTypeID: FaultTypeID },
            success: function (json) {

                var $el = $("#UpdateProgressStatusId");
                $el.empty(); // remove old options
                $.each(json, function (value, key) {
                    $el.append($("<option></option>").val(key.ID).text(key.Name));
                });


            }
        });
        }
    //Get Update Complaint END



    function GenerateDetailGrid() {

        var table = $('#datatab').DataTable
            ({
                "aLengthMenu": [[10, 25, 50, 75, 100], [10, 25, 50, 75, 100]],
                "iDisplayLength": 10,
                "lengthChange": false,
                "pagingType": "full_numbers",
                "info": true,
                "serverSide": true,
                "bRetrieve": true,
                "bDestroy": true,
                "autoWidth": true,
                "ajax":
                {
                    "type": "POST",
                    "url": '@Url.Action("HomeComplaintsDataHandler", "RetailerOrders")',
                    "contentType": 'application/json; charset=utf-8',
                    'data': function (data) {
                        data.StartingDate1 = $('#StartingDate1').val();
                        data.StartingDate2 = $('#StartingDate2').val();
                        data.ProjectId = $('#ProjectId').val();
                        return data = JSON.stringify(data);
                    },
                },
                "fnDrawCallback": function (osetting) {
                    $("#Clear").click(function () {
                        From = $('#StartingDate1').val("");
                        To = $('#StartingDate2').val("");
                        Project = $('#ProjectId').val("");
                        table.clear().draw();
                    });
                    $("#ApplyFilter").click(function () {
                        table.clear().draw();
                    });

            var UpdateCheck = "0";
            var DeleteCheck = "0";
            if (UpdateCheck == "@HttpContext.Current.Session["UpdateCheck"]") { $(".edit").css("display", "none"); }

                else {



                $(".Detail").on("click", function () {
                    var RetailerID = $(this).attr("data-id");
                    var ComplaintID = ($(this).attr("data-id"));
                    $.ajax({
                        type: "GET",
                        url: "@Url.Action("GetActualComplaintDetail", "Home")",
                        data: { ComplaintId: RetailerID },
                        success: function (Response)
                       {
                            $("#myModal").css("display", "block");
                            $("#ActualSiteCode").html(Response.SiteCode);
                            $("#ActualSiteName").html(Response.SiteName);
                            $("#ActualComplaintNo").html(Response.TicketNo);
                            $("#ActualLaunchTime").html(Response.CreatedDate);
                            $("#ActualLaunchBy").html(Response.LaunchedByName);
                            $("#ActualComplaintType").html(Response.ComplaintType);
                            $("#ActualFaultType").html(Response.FaultTypeName);
                            $("#ActualFaultTypeDetail").html(Response.FaultTypesDetailName);
                            $("#ActualName").html(Response.Name);
                            $("#ActualInitialRemarks").html(Response.Remarks);
                            $("#ActualComplaintStatus").html(Response.StatusName);
                            $("#ActualProgressStatusName").html(Response.ProgressStatusName);
                            $("#ActualLastUpdated").html(Response.LastUpdated);
                            $("#ActualProgressStatusOtherRemarks").html(Response.ProgressStatusOtherRemarks);
                            if (Response.Picture1 != "")
                            {
                                $("#ActualPicture1").attr('src',Response.Picture1);
                            }
                            else
                            {
                                $("#ActualPicture1").attr('src',"/Images/no-image-available.png.jpg");
                            }
                            if (Response.Picture2 != "")
                            {
                                $("#ActualPicture2").attr('src',Response.Picture2);
                             }
                            else
                            {
                                $("#ActualPicture2").attr('src', "/Images/no-image-available.png.jpg");
                            }
            }
                    });
                    $.ajax({
                        type: "GET",
                        url: "@Url.Action("GetComplaintDetail", "Complaint")",
                        data: { ComplaintId: RetailerID },
                        success: function (Response)
             {
                            $("#myModal").css("display", "block");
                            $("#SiteCode").html(Response.SiteCode);
                            $("#SiteName").html(Response.SiteName);
                            $("#ComplaintNo").html(Response.TicketNo);
                            $("#LaunchTime").html(Response.CreatedDate);
                            $("#LaunchBy").html(Response.LaunchedByName);
                            $("#ComplaintType").html(Response.ComplaintType);
                            $("#FaultType").html(Response.FaultTypeName);
                            $("#FaultTypeDetail").html(Response.FaultTypesDetailName);
                            $("#Name").html(Response.Name);
                            $("#InitialRemarks").html(Response.Remarks);
                            $("#ComplaintStatus").html(Response.StatusName);
                            $("#ProgressStatusName").html(Response.ProgressStatusName);
                            $("#LastUpdated").html(Response.LastUpdated);
                            $("#ProgressStatusOtherRemarks").html(Response.ProgressStatusOtherRemarks);
                            if (Response.Picture1 != "")
                            {
                                $("#Picture1").attr('src',Response.Picture1);
                            }
                            else
                            {
                                $("#Picture1").attr('src',"/Images/no-image-available.png.jpg");
                            }
                            if (Response.Picture2 != "")
                            {
                                $("#Picture2").attr('src',Response.Picture2);
                             }
                            else
                            {
                                $("#Picture2").attr('src', "/Images/no-image-available.png.jpg");
                            }
            }
                    });
                    $.ajax({
                        type: "POST",
                        data: { ComplaintId: ComplaintID },
                        url: "@Url.Action("GetComplaintClientRemarks", "Complaint")",
                        dataType: 'JSON',
                        success: function (Response)
                        {
                            $("#RemarksData").empty();
                            if (Response.length == 0)
                            {
                                var divHtml1 = '<div class="span12" style="border-style: solid; padding:11px 0px 0px 0px; margin-left: 0px;"><div class="span12 text-center" style="margin-left:0px;"><label>' + "No Any Client Remark Found Against This complaint" + '</label></div></div>'
                                $("#RemarksData").append(divHtml1);
                            }
                            else
                            {
                                $.each(Response, function (i, item) {
                                    item.RemarksDate
                                    var divHtml = '<div class="span12" style="border-style: solid; padding:10px; margin-left: 0px; margin-bottom: 6px;"><div class="span12 text-center" style="margin-left:0px;"><label>' + item.DateTime + '</label></div><hr style="margin-left: -3px; width: 353px;" /><div class="span12 text-center" style ="margin-left:0px;"><label>' + item.RemarksByName + ":" + item.ClientRemarks + '</label></div></div>'
                                    $("#RemarksData").append(divHtml);
                                });
                            }
                        }

                    });
                    $.ajax({
                        type: "POST",
                        data: { ComplaintId: ComplaintID },
                        url: "@Url.Action("GetComplaintProgressData", "Complaint")",
                        dataType: 'JSON',
                        success: function (Response)
                        {
                            $("#ChildStatus").empty();
                            $.each(Response, function (i, item) {
                                var divHtml = $('<tr>').html("<td style='text-align:center;'>" + item.DateTime + "</td><td style='text-align:center;'>" + item.FaultTypeFinalName + "</td><td style='text-align:center;'>" + item.ComplaintStatus + "</td><td style='text-align:center;'>" + item.AssignedFS + "</td><td style='text-align:center;'>" + item.ProgressStatusName + "</td><td style='text-align:center;'>" + item.ProgressRemarks + "</td><td style='text-align:center;'>" + "<a href='#' class='btn text-center' style='background-color:#1969b1; margin-right:5px; margin-bottom:5px; color:white;' onclick='ChildView(" + item.ProgressID + ")' ><b>View</b></a><a href='#' class='btn text-center' style='background-color:#1969b1; color:white;margin-bottom:5px; ' onclick='ChildEdit(" + item.ProgressID + ")' ><b>Edit</b></a>" + "</td>");

                                //var divHtml = $('<tr>').html("<td style='text-align:center;'>" + item.DateTime + "</td><td style='text-align:center;'>" + item.FaultTypeFinalName + "</td><td style='text-align:center;'>" + item.ComplaintStatus + "</td><td style='text-align:center;'>" + item.ProgressStatusName + "</td><td style='text-align:center;'>" + item.ProgressRemarks + "</td><td style='text-align:center;'>" + "<a href='#' class='btn text-center' style='background-color:#1969b1; margin-right:5px; margin-bottom:5px; color:white;' onclick='ChildView(" + item.ProgressID + ")' ><b>View</b></a>" + "</td>");
                                    $("#ChildStatus").append(divHtml);
                                });

                        }

                    });
                    $('html, body').animate({
                        scrollTop: $("#main-content").offset().top
                    }, 500);
                });
            }

            if (UpdateCheck == "@HttpContext.Current.Session["DeleteCheck"]") { $(".delete").css("display", "none"); }
                else {

                $(".delete").on("click", function () {

                    var RetailerID = $(this).attr("data-id");

                    // confirm dialog
                    alertify.confirm("Are You Sure You Want To Delete This Record ?  ", function (e) {
                        if (e) {

                            $.ajax({
                                type: "POST",
                                url: "@Url.Action("DeleteRetailer", "Retailer")",
                                data: { retailerID: RetailerID },
                                success: function (data) {

                                    if (data == "0") {
                                        alertify.success('Record Deleted Successfully');
                                        var table = $('#datatab').DataTable();
                                        table.row(this).remove().draw(false);
                                    }

                                    else { alertify.error('An Error Occured, Try Again...'); }
                                }

                            });

                        } else { }
                    });

                });

            }
        },
                "fnRowCallback": function (nRow, aData, iDisplayIndex) {
                    //$("td:first", nRow).html(iDisplayIndex + 1);
                    if (aData["StatusID"] == "3") {
                        $(nRow).find('td:eq(9)').css('background-color', '#A0B978');
                        $(nRow).find('td:eq(9)').css('color', 'white');

                        // $('td', nRow).css('background-color', 'Green');
                    }
                    if (aData["StatusID"] == "4") {
                        $(nRow).find('td:eq(9)').css('background-color', '#F0E801');
                        $(nRow).find('td:eq(9)').css('color', 'black');

                    }
                    if (aData["ComplaintTypeName"] == "Major") {
                        //$(nRow).find('td:eq(5)').css('background-color', 'red');
                        $(nRow).find('td:eq(4)').css('color', 'red');
                    }
                    return nRow;
                },
                "searching": false,
                "processing": true,
                "deferRender": true,
                "bSelect": true,
                "columns": [
                    //{ "data": "ID", "sClass": "center-align-td" },
                    { "data": "TicketNo", "sClass": "center-align-td" },
                    { "data": "SiteCode", "sClass": "center-align-td"},
                    { "data": "RetailerName", "sClass": "center-align-td" },
                    { "data": "FaultTypeFinalName", "sClass": "center-align-td" },
                    { "data": "ComplaintTypeName", "sClass": "center-align-td", },
                    { "data": "SaleOfficerName", "sClass": "center-align-td" },
                    { "data": "dateformat", "sClass": "center-align-td", },
                    { "data": "VisitDateFormatted", "sClass": "center-align-td", },
                    { "data": "StatusName", "sClass": "center-align-td", },
                    { "data": "ProgressStatus", "sClass": "center-align-td" },
                    { "data": "UpdatedAt", "sClass": "center-align-td", },
                    {
                        "sClass": "center-align-td",
                        "mData": null,
                        "bSortable": false,
                        "mRender": function (data, type, row)
                        {
                            //return '<button class="btn Detail" style="background-color: #1969b1; color:white; margin-bottom: 5px;" data-id=' + '"' + row.ID + '"' + ' data-toggle="modal" data-target="#myModal" >' + 'Detail' + '</button>';

                            return '<button class="btn Detail" style="background-color: #1969b1; color:white; margin-bottom: 5px;" data-id=' + '"' + row.ID + '"' + ' data-toggle="modal" data-target="#myModal" >' + 'Detail' + '</button>&nbsp;<button class="btn AddRemarks" style="background-color: #1969b1; color:white; margin-bottom: 5px;" data-id=' + '"' + row.ID + '"' + ' data-toggle="modal" data-target="#AddRemarks" >' + 'Add Remarks' + '</button>&nbsp;<button class="btn Update" style="background-color: #1969b1; color:white; margin-bottom: 5px;" ' + 'onclick=UpdateComplaint(' + row.ID + ') >' + 'Update' + '</button>';

                        }
                    }
                ], "order": [0, "desc"]

            });

        table = $('#datatab').DataTable();
        setInterval(function () {
            var info = table.page.info();
            var pageNum = (info.page < info.pages) ? info.page + 1 : 1;
            table.page(pageNum).draw(false);
        }, 300000);
    }
    function ChildView(ProgressID) {
        var url = "/Complaint/GetProgressIDData?ProgressID=" + ProgressID;
        $("#ViewChildRecord").modal();
        $.ajax({
            type: "GET",
            url: url,
            success: function (Response) {
                $("#ViewChildRecord").css("display", "block");
                $("#ChildViewDateTime").html(Response.DateTime);
                $("#ChildViewFaultTypeFaultTypeDetail").html(Response.FaultTypeFinalName);
                $("#ChildViewComplaintStatus").html(Response.ComplaintStatus);
                $("#ChildViewAssignedFS").html(Response.AssignedFS);
                $("#ChildViewProgressStatus").html(Response.ProgressStatusName);
                $("#ChildViewProgressRemarks").html(Response.ProgressRemarks);
                if (Response.Picture1 != null) {
                    $("#ChildViewPicture1").attr('src', Response.Picture1);
                }
                if (Response.Picture2 != null)
                {
                    $("#ChildViewPicture2").attr('src', Response.Picture2);
                }



            }
        })
    }
    function ChildEdit(ProgressID) {
        var url = "/Complaint/GetProgressIDData?ProgressID=" + ProgressID;
        $("#EditChildRecord").modal();
        $.ajax({
            type: "GET",
            url: url,
            success: function (Response) {
                $("#ViewChildRecord").css("display", "block");
                //$("#ID").value(Response.ID);

                $("#FaulttypeId").val(Response.FaultTypeID);
                $("#FaulttypeDetailId").val(Response.FaultTypeDetailID);
                //$("#FaultTypeDetailOtherRemarks").html(Response.);
                $("#PriorityId").val(Response.PriorityID);
                $("#ComplaintTypeID").val(Response.ComplaintTypeID);
                $("#SalesOficerID").val(Response.ProgressRemarks);
                $("#StatusID").html(Response.ProgressRemarks);
                $("#ProgressStatusId").html(Response.ProgressRemarks);
                $("#Time").html(Response.ProgressRemarks);
                $("#Name").html(Response.ProgressRemarks);
                $("#Remarks").html(Response.ProgressRemarks);

                if (Response.Picture1 != "") {
                    $("#ChildEditPicture1").attr('src', Response.Picture1);
                }
                else
                {
                    $("#ChildEditPicture1").attr('src', "/Images/no-image-available.png.jpg");
                }
                if (Response.Picture2 != "") {
                    $("#ChildEditPicture2").attr('src', Response.Picture2);
                }
                else
                {
                    $("#ChildEditPicture2").attr('src', "/Images/no-image-available.png.jpg");
                }


            }
        })
    }


    // Get Update  Complaint Start
    function UpdateComplaint(ComplaintID) {
        $("#UpdateComplaint").modal();
        $("#ComplaintID").val(ComplaintID);
        var url = "/Complaint/GetUpdateComplaint?ComplaintID=" + ComplaintID;
        $.ajax({
            type: "GET",
            url: url,
            success: function (Response) {
                $("#UpdateComplaintID").val(Response.UpdateComplaintID);
                $("#UpdateFaulttypeId").val(Response.UpdateFaulttypeId);
                $("#UpdateFaulttypeDetailId").val(Response.UpdateFaulttypeDetailId);
                $("#UpdateFaultTypeDetailOtherRemarks").val(Response.UpdateFaultTypeDetailOtherRemarks);
                $("#UpdatePriorityId").val(Response.UpdatePriorityId);
                $("#UpdateComplaintTypeID").val(Response.UpdateComplaintTypeID);
                $("#UpdateSalesOficerID").val(Response.UpdateSalesOficerID);
                $("#UpdateStatusID").val(Response.UpdateStatusID);
                $("#UpdateProgressStatusId").val(Response.UpdateProgressStatusId);
                $("#UpdateProgressStatusOtherRemarks").val(Response.UpdateProgressStatusOtherRemarks);
                $("#UpdateTime").val(Response.UpdateTime);
                $("#UpdatePerson").val(Response.UpdatePerson);
                $("#UpdateProgressRemarks").val(Response.UpdateProgressRemarks);
            }
        })
    }
    // Get Update Complaint Start END

    // Post Update  Complaint Start
    $(function () {
        $("#PostUpdateComplaint").click(function () {
            var data = new FormData();
            var files = $("#UpdatePicture1").get(0).files;
            if (files.length > 0) {
                data.append("UpdatePicture1", files[0]);
            }
            var files2 = $("#UpdatePicture2").get(0).files;
            if (files2.length > 0) {
                console.log(files2[0]);
                data.append("UpdatePicture2", files2[0]);
            }
            data.append("UpdateComplaintID", $("#UpdateComplaintID").val());
            data.append("UpdateFaulttypeId", $("#UpdateFaulttypeId").val());
            data.append("UpdateFaulttypeDetailId", $("#UpdateFaulttypeDetailId").val());
            data.append("UpdateFaultTypeDetailOtherRemarks", $("#UpdateFaultTypeDetailOtherRemarks").val());
            data.append("UpdatePriorityId", $("#UpdatePriorityId").val());
            data.append("UpdateComplaintTypeID", $("#UpdateComplaintTypeID").val());
            data.append("UpdateSalesOficerID", $("#UpdateSalesOficerID").val());
            data.append("UpdateStatusID", $("#UpdateStatusID").val());
            data.append("UpdateProgressStatusId", $("#UpdateProgressStatusId").val());
            data.append("UpdateTime", $("#UpdateTime").val());
            data.append("UpdatePerson", $("#UpdatePerson").val());
            data.append("UpdateProgressRemarks", $("#UpdateProgressRemarks").val());
            data.append("UpdatePicture1", $("#UpdatePicture1").val());
            data.append("UpdatePicture2", $("#UpdatePicture2").val());

            var settings = {
                type: "Post",
                url: "/Home/PostUpdateComplaint",
                contentType: false,
                processData: false,
                cache: false,
                data: data,
                success: function (result) {

                    if (result == true)
                    {
                        $('#UpdateComplaint').modal('hide');
                        alertify.success("Complaint Status Updated Successfully.");
                    }

                }
            };
            $.ajax(settings);
            return false;




        });
    });
    // Post Update Complaint Start END
    //Add Remarks Start
    $(function () {
        $("#AddRemarksCreate").click(function () {
            var ComplaintId = $(".AddRemarks").attr("data-id");
            var data = new FormData();
            data.append("ComplaintId",ComplaintId);
            data.append("ClientRemarks", $("#AddRemark").val());
                var settings = {
                    type: "Post",
                    url: "/Home/SaveClientRemarks",
                    contentType: false,
                    processData: false,
                    cache: false,
                    data: data,
                    success: function (result) {

                        if (result == true)
                        {
                            $('#AddRemarks').modal('hide');
                            alertify.success("Remarks Added Successfully.");
                            $("#AddRemark").val("");
                        }

                    }
                };
                $.ajax(settings);
                return false;




        });
    });
    $('#ResetRemarks').click(function () {
        $("#AddRemark").val("");
    });

    //Add Remarks END

    //Upload-Picture1 Start
    $('#UpdatePicture1UserImage').click(function () {
        UploadClickEvent();
    });
    $('#UpdateUploadPicture1').click(function () {
        UploadClickEvent();
    });
    function UploadClickEvent() {
        $('#UpdatePicture1').trigger('click');
    }
    $('#UpdatePicture1').change(function () {
        if (this.files && this.files[0]) {
            var fileReader = new FileReader();
            fileReader.readAsDataURL(this.files[0]);
            fileReader.onload = function (x) {
                $('#UpdatePicture1UserImage').attr('src', x.target.result);

            }
        }

    });
    $('#UpdateRemovePicture1').click(function () {
        $('#UpdatePicture1UserImage').attr('src', "/Images/no-image-available.png.jpg");
    });
    //Upload-Picture1 End


    //Upload-Picture2 Start
    $('#UpdatePicture2UserImage').click(function () {
        UploadClickEvent2();
    });
    $('#UpdateUploadPicture2').click(function () {
        UploadClickEvent2();
    });
    function UploadClickEvent2() {
        $('#UpdatePicture2').trigger('click');
    }
    $('#UpdatePicture2').change(function () {
        if (this.files && this.files[0]) {
            var fileReader = new FileReader();
            fileReader.readAsDataURL(this.files[0]);
            fileReader.onload = function (x) {
                $('#UpdatePicture2UserImage').attr('src', x.target.result);

            }
        }

    });
    $('#UpdateRemovePicture2').click(function () {
        $('#UpdatePicture2UserImage').attr('src', "/Images/no-image-available.png.jpg");

    });
    //Upload-Picture2 End

</script>
